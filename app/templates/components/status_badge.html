<div class="status-badge status-{{ status }}" {% if status in ["pending", "transcribing" , "processing" ] %}
    hx-get="/web/notes/{{ note_id }}/status" hx-trigger="every 2s" hx-swap="outerHTML" {% endif %}>
    {% if status == "pending" %}
    <svg class="w-4 h-4 animate-pulse" fill="currentColor" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="8" />
    </svg>
    {% elif status in ["transcribing", "processing"] %}
    <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
    </svg>
    {% elif status == "completed" %}
    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
    </svg>
    {% elif status == "failed" %}
    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    {% endif %}
    {{ status }}
    {% if error_message %}
    <span class="text-xs ml-2">- {{ error_message[:30] }}{% if error_message|length > 30 %}...{% endif %}</span>
    {% endif %}
</div>