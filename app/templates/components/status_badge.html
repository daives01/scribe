{% macro status_badge(status, show_icon=true, extra_classes="") %}
<div class="inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium capitalize {{ extra_classes }}"
    {% if status == 'pending' %}bg-amber-100 text-amber-700 dark:bg-amber-950/30 dark:text-amber-400
    {% elif status == 'transcribing' %}bg-violet-100 text-violet-700 dark:bg-violet-950/30 dark:text-violet-400
    {% elif status == 'processing' %}bg-blue-100 text-blue-700 dark:bg-blue-950/30 dark:text-blue-400
    {% elif status == 'completed' %}bg-emerald-100 text-emerald-700 dark:bg-emerald-950/30 dark:text-emerald-400
    {% elif status == 'failed' %}bg-red-100 text-red-700 dark:bg-red-950/30 dark:text-red-400
    {% endif %}">
    {% if show_icon %}
        {% if status in ["pending", "transcribing", "processing"] %}
        <svg class="w-3 h-3 animate-spin" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83" />
            <circle cx="12" cy="12" r="3" />
        </svg>
        {% elif status == "failed" %}
        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
        {% endif %}
    {% endif %}
    {{ status }}
</div>
{% endmacro %}
